\documentclass[12pt, notitlepage]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{amsthm}
\usepackage{listings}
\usepackage{color}
\usepackage{float}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{
	frame=single,
	language=Java,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	captionpos=b,
	basicstyle={\small\ttfamily},
	numbers=left,
	numbersep=5pt,
	%numbers=none,
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=3
}


\providecommand{\abs}[1]{\lvert#1\rvert}
\providecommand{\norm}[1]{\lVert#1\rVert}

\newtheorem{thm}{Theorem}
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{fact}[thm]{Fact}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{eg}{Example}
\newtheorem{ex}{Exercise}
\newtheorem{defi}{Definition}
\newtheorem{hw}{Homework}
\newenvironment{sol}
  {\par\vspace{3mm}\noindent{\it Solution}.}{\qed}

\newcommand{\fib}{\mbox{fib}}
\newcommand{\ov}{\overline}
\newcommand{\cb}{{\cal B}}
\newcommand{\cc}{{\cal C}}
\newcommand{\cd}{{\cal D}}
\newcommand{\ce}{{\cal E}}
\newcommand{\cf}{{\cal F}}
\newcommand{\ch}{{\cal H}}
\newcommand{\cl}{{\cal L}}
\newcommand{\cm}{{\cal M}}
\newcommand{\cp}{{\cal P}}
\newcommand{\cz}{{\cal Z}}
\newcommand{\eps}{\varepsilon}
\newcommand{\ra}{\rightarrow}
\newcommand{\la}{\leftarrow}
\newcommand{\Ra}{\Rightarrow}
\newcommand{\dist}{\mbox{\rm dist}}
\newcommand{\bn}{{\mathbf N}}
\newcommand{\bz}{{\mathbf Z}}

\setlength{\parindent}{0pt}
%\setlength{\parskip}{2ex}
\newenvironment{proofof}[1]{\bigskip\noindent{\itshape #1. }}{\hfill$\Box$\medskip}

\usepackage{enumerate,fullpage, proof}
\newcommand{\Infer}[2]{\infer{#2}{#1}}

\title{Homework 4}
\author{Team: nogg\footnote{E-mail: \texttt{kimi.ysma@gmail.com}}\footnote{Team member: Ma Yesheng, Zhao Ming, Hu Hu, Zou Yikai, Fan Minghua}}

\begin{document}

{\bf\small CS214: Algorithms and Complexity}\hfill{\bf\small 2016 Fall}
{\let\newpage\relax\maketitle}

\textbf{Exercise 1}
\begin{sol}
	
\qquad If there are intersections of s-r-flow and r-t-flow, then there must be circles which contains $r$. Remove these circles and it won't change the flow value form $s$ to $t$. Thus, this lemma is proved. 

\end{sol}\\

\textbf{Exercise 2}
\begin{sol}\\
At first, we need to prove \textbf{Hall's Theorem}.\\
\textbf{Hall's Theorem}: A bipartite graph $G$ with vertex sets $V_1$ and $V_2$ contains a complete matching
from $V_1$ to $V_2$ if and only if it satisfies Hall’s condition\\
\centerline{$|\Gamma (S)| >= |S|\ for\ every\ S \subset V$}
\begin{proof}
First, we observe that Hall’s condition is clearly necessary. To prove that it is also sufficient, we use induction on $m$. The theorem is true for $m = 1$, so assume that $G$ satisfies Hall’s condition and that $m = |V1| >= 2$.

\qquad \textbf{Case 1.}Suppose that for all proper subsets $S _6 \neq \O$ of $V_1$,\\
\centerline{$|\Gamma(S)| >= |S| + 1$}
Then we can start with an arbitrary edge $e = v_1v_2 \in E$, and put $e$ in $M$. The graph $G_0 = G- \{v_1, v_2\}$ satisfies Hall’s condition, so we can complete the matching by induction.

\qquad \textbf{Case 2.}Suppose that for some proper subset $T \neq \O$ of $V_1$,\\
\centerline{$|\Gamma (T)| = |T|$}
Applying the induction hypothesis to $G' = G[T \cup \Gamma (T)]$ and $G'' = G[(V1 \backslash T) \cup (V2 \backslash \Gamma (T))]$, we obtain two disjoint matchings containing $|T|$ and $m-|T|$ edges respectively, whose union is a complete matching from $V_1$ to $V_2$.
\end{proof}

Then, we'll prove this exercise.\\
Assume that $|V_1| <= |V_2|$. Because $|V_1|*d_1 = |V_2|*d_2$, so $d_1 >= d_2$.\\
For any vertex subset $V_1'$ that $V_1'\subset V_1$, the neighbor set of $V_1'$ is $\Gamma (V_1')$. Then there must be 
\centerline{$|V_1'|*d_1 = \sum\limits^{|\Gamma (V_1')|}_{i=1}d_i$}
where $d_i$ is the number of edges that connect to the vertice in $V_1'$.\\
Because $d_i <= d_2$, so\\ 
\centerline{$|V_1'|*d_1 = \sum\limits^{|\Gamma (V_1')|}_{i=1}d_i <= |\Gamma (V_1')| * d_2$}
Because of $d_1 >= d_2$ that mentioned above, then $|V_1'| <= |\Gamma (V_1')|$.\\
According to \textbf{Hall's Theorem},  $G$ contains a matching of size $min(|V_1|, |V_2|)$

\end{sol}\\





\textbf{Exercise 4}
\begin{sol}
	\begin{enumerate}[1.]
		\item Since in this problem, all existing edges will not give any constraint to flow, we can give a infinite capacity for all existing edges. We only need to take care of vertices since for all vertex $u$ there is a vertex capacity $c(u)$ which limits outflow from this vertex.\\
			To express this constraint with edge capacity, we replace every vertex $v$ with two vertices $v_{in}$ and $v_{out}$, where edge capacity $c_{in\rightarrow out} = c(v)$. Also we need to replace all edge $u\rightarrow v$ with $u_{out}\rightarrow v_{in}$.\\
			Finally we solve the max flow with edge capacities in this new graph and get the new $s-t$ flow.
	\item Picture to be inserted
	\item Similar to previously introduced technique, we can construct a new graph to solve this problem:
		\begin{enumerate}[(1)]
			\item Replace each vertex $v$ with $v_{in}$ and $v_{out}$ and set edge capacity of it to be 1
			\item Replace each edge $u\rightarrow v$ in the original graph to $u_{out}\rightarrow v_{in}$ in the new graph
			\item Solve the max flow for the new graph from $s_{out}$ to $t$
		\end{enumerate}
		Since the graph construction and max flow can be solved in polynomial time, this solution for vertex disjoint paths can be solved in polynomial time.
	\end{enumerate}
\end{sol}


\textbf{Exercise 5}
\begin{sol}
	We prove this by considering a matching between $L_i$ and $L_{i+1}$. Since $\binom{n}{i}$ is the maximum number of vertices in $L_i$, we only need to prove that there exist such paths.\\
	For each vertex $v$ in $L_{j}$ where $(i\leq j\leq n-i)$, considering the property of Hamming code, $v$'s neighbor in the next level $L_{j+1}$ should be $\binom{n-j}{1}$. Then for all vertices that belongs to one of the vertex disjoint paths, we can conclude that there exist a matching from these vertices to vertices in $L{i+1}$ from Hall's theorem.\\
	Thus for each level there is such a matching of size $\binom{n}{i}$. Therefor there are $\binom{n}{i}$ such paths.

\end{sol}






\textbf{Exercise 8}
\begin{sol}\\
	
\end{sol}\\

\end{document}

